Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),1.10374e-07*(Weight_PU)*(Weight_CSV)*(weights_syst[4]/weights_syst[0])*(weights_syst[451]/weights_syst[0])*(1.0202409375)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),1.26485e-07*(Weight_PU)*(Weight_CSV)*(weights_syst[451]/weights_syst[0])*(1.0046766542)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),8.90465e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==53||(genevt_ttxid%100)==54||(genevt_ttxid%100)==55))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),8.90465e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==52))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),8.90465e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==51))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),8.90465e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==41||(genevt_ttxid%100)==42||(genevt_ttxid%100)==43||(genevt_ttxid%100)==44||(genevt_ttxid%100)==45))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),8.90465e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==0))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),1.97029e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),1.79306e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),4.7218e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),4.34344e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),9.38563e-08*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),0.000852941*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),4.56513e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  ')' is expected
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Down -mcweights+ THQ125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Up   -mcweights+ THW125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHW -direction Down -mcweights+ THW125-madgraph:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Up   -mcweights+ TTbar-powheg_bb:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttbb -direction Down -mcweights+ TTbar-powheg_bb:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Up   -mcweights+ TTbar-powheg_2b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt2b -direction Down -mcweights+ TTbar-powheg_2b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Up   -mcweights+ TTbar-powheg_b:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_tt1b -direction Down -mcweights+ TTbar-powheg_b:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Up   -mcweights+ TTbar-powheg_cc:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttcc -direction Down -mcweights+ TTbar-powheg_cc:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Up   -mcweights+ TTbar-powheg_lf:weights_syst[4]/weights_sy:::st[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttlf -direction Down -mcweights+ TTbar-powheg_lf:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Up   -mcweights+ TTH-powheg:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_ttH -direction Down -mcweights+ TTH-powheg:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Up   -mcweights+ Wjets:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic Q2scale_Wj  -direction Down -mcweights+ Wjets:weights_syst[8]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]


 # CSV

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Up -mcweights+ Weight_CSVCErr1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr1  -direction Down -mcweights+ Weight_CSVCErr1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Up -mcweights+ Weight_CSVCErr2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVCErr2  -direction Down -mcweights+ Weight_CSVCErr2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Up -mcweights+ Weight_CSVHFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHF  -direction Down -mcweights+ Weight_CSVHFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Up -mcweights+ Weight_CSVHFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats1  -direction Down -mcweights+ Weight_CSVHFStats1down  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Up -mcweights+ Weight_CSVHFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVHFStats2  -direction Down -mcweights+ Weight_CSVHFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Up -mcweights+ Weight_CSVLFup -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLF  -direction Down -mcweights+ Weight_CSVLFdown -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Up -mcweights+ Weight_CSVLFStats1up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats1  -direction Down -mcweights+ Weight_CSVLFStats1down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Up -mcweights+ Weight_CSVLFStats2up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    th_makedatacards_x tH.config MC.config -systematic CSVLFStats2  -direction Down -mcweights+ Weight_CSVLFStats2down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]

    # JES

    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jes  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JESUP/ -varexpr bdtout[6]

    # JER

    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Down -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERDOWN/ -varexpr bdtout[6]
    th_makedatacards_x tH.config MC.config -systematic CMS_jer  -direction Up -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -mcpath /storage/jbod/bmaier/13tev/systematics/JERUP/ -varexpr bdtout[6]

    for k in TH_MCDIR REGION DATACARD; do echo unset ; unset ; done


    export TH_MCDIR=/storage/jbod/bmaier/13tev
    export REGION=4t
    export DATACARD=tH_3t_6
    
    rm tH_3t_6.txt
    rm tH_3t_6.root 
    

    th_makedatacards_x tH.config MC.config  -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1 THW125-madgraph:1 TTH-powheg:1 -varexpr bdtout[6]
    #
    # rate systematics 
    #

    echo tH_3t_6
    # lumi and ttbar heavy flavor
    th_addsftodc_x SYS_LUMI.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_LEPEFF.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTBB.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT2B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TT1B.config   -datacard tH_3t_6.txt
    th_addsftodc_x SYS_TTCC.config  -datacard tH_3t_6.txt
    # pdf
    th_addsftodc_x SYS_PDFGG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQG.config  -datacard tH_3t_6.txt
    th_addsftodc_x SYS_PDFQQ.config -datacard tH_3t_6.txt
    # scale for diboson and single top -- other samples have systematic weights
    th_addsftodc_x SYS_SCALEVV.config -datacard tH_3t_6.txt
    th_addsftodc_x SYS_SCALEST.config -datacard tH_3t_6.txt
    
    #
    # shape systematics
    #


    # Q2 Scale
    th_makedatacards_x tH.config MC.config -systematic Q2scale_tHq -direction Up   -mcweights+ THQ125-madgraph:weights_syst[4]/weights_syst[0] -datacard tH_3t_6.txt -rootfile tH_3t_6.root -mcweights+ THQ125-madgraph:weights_syst[451]/weights_syst[0] THW125-madgraph:weights_syst[451]/weights_syst[0] THQ125-madgraph:1.0202409375 THW125-madgraph:1.0046766542 -varexpr bdtout[6]:::THQ125-madgraph:1:::THW125-madgraph:1:::TTH-powheg:1)),1.53953e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.37738e-08*(Weight_PU)*(Weight_CSV)*(weights_syst[451]/weights_syst[0])*(1.0202409375)*(1)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.00977e-07*(Weight_PU)*(Weight_CSV)*(weights_syst[451]/weights_syst[0])*(1.0046766542)*(1)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==53||(genevt_ttxid%100)==54||(genevt_ttxid%100)==55))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==52))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==51))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==41||(genevt_ttxid%100)==42||(genevt_ttxid%100)==43||(genevt_ttxid%100)==44||(genevt_ttxid%100)==45))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==0))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.60222e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.36957e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),3.62481e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),3.57976e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.47755e-08*(Weight_PU)*(Weight_CSV)*(1)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),0.000852942*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),0.000120298*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),4.56512e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.53953e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.37738e-08*(Weight_PU)*(Weight_CSV)*(weights_syst[451]/weights_syst[0])*(1.0202409375)*(1)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.00977e-07*(Weight_PU)*(Weight_CSV)*(weights_syst[451]/weights_syst[0])*(1.0046766542)*(1)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==53||(genevt_ttxid%100)==54||(genevt_ttxid%100)==55))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==52))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==51))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==41||(genevt_ttxid%100)==42||(genevt_ttxid%100)==43||(genevt_ttxid%100)==44||(genevt_ttxid%100)==45))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==0))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.60222e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.36957e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),3.62481e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),3.57976e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.47755e-08*(Weight_PU)*(Weight_CSV)*(1)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),0.000852942*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),0.000120298*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),4.56512e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.53953e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.37738e-08*(Weight_PU)*(Weight_CSV)*(weights_syst[451]/weights_syst[0])*(1.0202409375)*(1)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.00977e-07*(Weight_PU)*(Weight_CSV)*(weights_syst[451]/weights_syst[0])*(1.0046766542)*(1)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==53||(genevt_ttxid%100)==54||(genevt_ttxid%100)==55))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==52))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==51))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==41||(genevt_ttxid%100)==42||(genevt_ttxid%100)==43||(genevt_ttxid%100)==44||(genevt_ttxid%100)==45))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==0))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.60222e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.36957e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),3.62481e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),3.57976e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.47755e-08*(Weight_PU)*(Weight_CSV)*(1)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),0.000852942*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),0.000120298*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),4.56512e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.53953e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TCling::RegisterModule>: cannot find dictionary module AnaUtils_dict_rdict.pcm
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.37738e-08*(Weight_PU)*(Weight_CSV)*(weights_syst[451]/weights_syst[0])*(1)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "weights_syst[0]THQ125"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.00977e-07*(Weight_PU)*(Weight_CSV)*(weights_syst[451]/weights_syst[0]THQ125-madgraph:1.0202409375)*(1.0046766542)*(1)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==53||(genevt_ttxid%100)==54||(genevt_ttxid%100)==55))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==52))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==51))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==41||(genevt_ttxid%100)==42||(genevt_ttxid%100)==43||(genevt_ttxid%100)==44||(genevt_ttxid%100)==45))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.12923e-06*(Weight_PU)*(Weight_CSV)*(((genevt_ttxid%100)==0))*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.60222e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.36957e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),3.62481e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),3.57976e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),7.47755e-08*(Weight_PU)*(Weight_CSV)*(1)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),0.000852942*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),0.000120298*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),4.56512e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
Error in <TTreeFormula::Compile>:  Bad numerical expression : "bdtout[6]"
Info in <TSelectorDraw::AbortProcess>: Variable compilation failed: {max(-0.7999,min(0.7999,bdtout[6])),1.53953e-05*(Weight_PU)*(Weight_CSV)*((((nmu==1 && nel==0)*((Alt$(mupt[0],0))>26)*(met>35)*((Alt$(abs(mueta[0]),0))>0 && (Alt$(abs(mueta[0]),0))<2.1)) || ((nel==1 && nmu ==0)*((Alt$(elpt[0],0))>30)*(met>45)*((Alt$(abs(eleta[0]),0))>0 && (Alt$(abs(eleta[0]),0))<2.5))))}
